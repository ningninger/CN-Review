# 无线局域网

近些年非常流行的无线和移动网络，移动用户数量超过了有线电话用户数量， 比例大于5:1 

两个重要的挑战：

+ 无线：通过无线链路来进行通信
+ 移动性：处理移动用户在网络中切换连接点
  + 非无线网络也可能需要处理移动性问题
  + 切换：移动用户更换提供与有线网络连接的基站





## 两种模式

无线和移动网络有两种操作模式：

+ 基础设施模式：基站将移动设施连接到有线网络。在基础设施模式下，移动设备通过基站接入无线网络，并通过基站连接到有线网络。基站负责处理移动设备的接入、路由和通信，提供网络连接和服务
+ 自组织模式：无线主机自组织形成网络并进行通信。在自组织模式下，无线设备之间之间通信，形成一个临时的无线网络，无须依赖基站或有线网络的支持。这种模式适用于临时性的网络组件，如在没有固定的基础设施的基础下，移动设备之间的直接通信

| 基础设施模式                                       | 自组织模式                                         |
| -------------------------------------------------- | -------------------------------------------------- |
| 需要长期稳定的网络连接和广域覆盖，如移动通信运营商 | 临时性的网络组件和紧密合作的移动设备之间的直接通信 |





## 无线链路和有线链路三个重要区别

+ 信号衰减：无线信号在穿过物质时会衰减，导致信号强度下降。相比有线链路，无线链路的信号传输距离更加有限。
+ 多径传播：无线信号在传播过程中会经理多路径传播，通过直射路径以及反射。这可能导致信号到达目的地时存在多个副本，导致多径传播干扰和信号畸变。
+ 来自其他源的干扰：标准化的无线网络频率被其他设备共享使用。此外，其他设备如电动机也可能引起干扰



### 信号衰减

自由空间路径损耗（FSPL）

受距离、波长、频率、光速影响，由于反射、绕射、吸收、地形轮廓（城市、农村、植被）、湿度等因素





#### 信噪比和误码率

+ 信噪比（SNR）：信号与噪声的比值，较大的SNR使得从噪声中提取信号更容易
+ 误码率（BER）
+ 信噪比和误码率的权衡
  + 给定物理层条件下：增加功率，增加SNR，减少BER
  + 给定SNR下：选择满足BER要求的物理层，以获得最高的吞吐量
  + SNR可能随着移动性的变化而变化：动态调整物理层



### 多径传播

+ 无线信号会在表面上反射
+ 自干扰





## 无线网络的特点

+ 广播介质
  + 附近的任何人都可以听到和干扰
+ 无法在发送时接收
  + 我们自己或附近的发送干扰了我们的接收器->半双工
  + 最近的研究表明全双工也可能是可能的
+ 发送方发送的信号并不总是完整到达接收方
+ 多个无线发送方和接收方会带来许多问题
  + 多路访问
  + 隐藏终端问题



## wifi

+ station：具有符合协议的MAC和物理层的设备
+ 接入点（AP）
  + 通过无线介质对分发系统的访问
+ 基本服务集（BSS）
  + 有一个接入点（基站）协调的单个小区
+ 扩展服务集（ESS）
  + 由分发系统（DS）连接的多个BSS
  + DS可以是交换机、无线网络或有线网络
  + ESS被视为单个逻辑局域网
  + 网关（路由器）提供对互联网的访问
+ 分发系统（DS）
  + 用于互联一组BSS和集成局域网以创建ESS的系统



## 频道和关联

+ 频道
  + 在802.11b标准中，使用频谱范围是2.4GHz至2.485GHz，将其划分为11个不同频率的信道。接入点（AP）管理员可以选择AP的频率，但是可能会出现干扰的情况，因为临近的AP选择了想用的信道

+ 关联：主机必须和一个AP进行关联
  + 它会扫描各个信道，监听包含AP名称（SSID）和MAC地址的信标帧。然后选择要关联的AP，并可能进行身份验证。通常还会运行DHCP协议，以获取AP所在子网的中的IP地址。这样，主机就能够与AP建立连接，并加入无线网络了。





### 关联的扫描

#### 被动扫描

+ 接入点（AP）会定期发送信标帧以宣告其存在，并提供有关网络的信息
+ 无线主机（h1）通过监听这些信标帧来进行被动扫描。
+ 在接收到信标帧后，h1可以提取AP的名称（SSID）和MAC地址等信息

关联过程：

+ h1通过向选定的AP发送关联请求（Association Request）帧来启动关联过程
+ API以关联响应（Association Response）帧回应，指示关联是否成功
+ 如果关联成功，h1现在与选定的AP关联起来，并可以与其进行通信

#### 主动扫描

+ 在主动扫描中，h1主动广播探测请求（Probe Request）帧以发现附近可用的AP
+ 范围内的AP会以探测响应（Probe Request）帧做出响应，提供有关自身的信息
+ h1可以根据接收到的响应来选择所需的AP
+ 随后的关联过程和被动扫描一致





